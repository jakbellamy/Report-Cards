{"ast":null,"code":"import _slicedToArray from \"/Users/jakobbellamy/Dev/refactor/Report-Cards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jakobbellamy/Dev/refactor/Report-Cards/src/Report Card/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { mainBackgroundColor, useStyles } from './styles';\nimport Page from '../src/components/Page';\nimport BoxDivider from './src/Components/_Modules/BoxDivider';\nimport NullBlock from './src/Components/_Modules/NullBlock';\nimport ReportCardHeader from './src/Components/Header/ReportCardHeader';\nimport GraphCard from './src/Components/_Modules/GraphCard';\nimport { searchData } from './functions/jsonParsers';\nimport MShareVolume from './src/Components/Data Components/DataBox/DataPoints/MShareVolume';\nimport OfficeVolume from './src/Components/Data Components/DataBox/DataPoints/OfficeVolume';\nimport UpcomingBest from './src/Components/Inustry Standards/upcomingBest';\nimport { ifExists } from './functions/conditionals';\nimport { firstStr, lastStr } from './functions/stringParsers';\nimport { Container, Grid, Box, CardHeader } from '@material-ui/core';\nimport ContinuingEducation from './src/Components/Continuing Education/ContinuingEducation';\nimport GoalDonuts from './src/Components/Data Components/Tabler Components/GoalDonuts';\nimport CSAT from './src/Components/Inustry Standards/csat';\nimport CenteredImage from './src/Components/_Modules/centeredImage';\nimport Card from '@material-ui/core/Card';\nimport CloseComparison from './src/Components/Inustry Standards/CloseComparison';\nimport ExperienceGrid from './src/Components/Experience';\nimport PnPB from './src/Components/PPB';\nimport DataTable from './src/Components/Data Components/Data Table';\nimport RetroData from './src/Components/Data Components/DataBox/DataPoints/RetroData';\nimport Typography from '@material-ui/core/Typography';\n\nvar data = require('./data/data.json');\n\nvar ppbData = require('./data/ppb.json');\n\nvar goalData = require('./data/Goals.json');\n\nvar ce_2020 = require('./data/2020 CE.json');\n\nvar ce_2021 = require('./data/2021 CE.json');\n\nvar classes = useStyles();\nexport default function ReportCard(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      accountData = _useState2[0],\n      setAccountData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      thisMonth = _useState4[0],\n      setThisMonth = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      comparableMonth = _useState6[0],\n      setComparableMonth = _useState6[1];\n\n  var _useState7 = useState([{\n    'Title': '',\n    'Date': ''\n  }]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      ppb = _useState8[0],\n      setPpb = _useState8[1];\n\n  var _useState9 = useState('YOY'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      period = _useState10[0],\n      setPeriod = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      imageSrc = _useState12[0],\n      setImageSrc = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      goals = _useState14[0],\n      setGoals = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      ce2020 = _useState16[0],\n      setCE2020 = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      ce2021 = _useState18[0],\n      setCE2021 = _useState18[1];\n\n  useEffect(function () {\n    var params = props.match.params[0] ? props.match.params[0].split('/')[1] : '';\n\n    var _accountData = searchData(data, params);\n\n    var _goalsData = searchData(goalData, params, 'Name')[0];\n\n    var _thisMonth = _accountData.length > 0 ? _accountData[_accountData.length - 1] : null;\n\n    var _imageSrc = \"./Plots/share_\".concat(searchData(data, params)[0]['Account'], \".svg\");\n\n    var _ce2020 = searchData(ce_2020, params);\n\n    var _ce2021 = searchData(ce_2021, params);\n\n    setAccountData(_accountData);\n    setGoals(_goalsData);\n    setThisMonth(_thisMonth);\n    setPpb(ppbData);\n    setImageSrc(_imageSrc);\n    setCE2020(_ce2020);\n    setCE2021(_ce2021); // Get Last Year Month or Last Month\n\n    var thisMonthText = ifExists(_thisMonth['Date'], null);\n\n    if (thisMonthText) {\n      var thisMonthMonth = firstStr(thisMonthText);\n      var thisMonthYear = Number(lastStr(thisMonthText));\n\n      var monthSet = _.filter(_accountData, function (x) {\n        var monthTxt = firstStr(x['Date']);\n        return monthTxt === thisMonthMonth;\n      });\n\n      var lastYearDate = thisMonthMonth + ' ' + (thisMonthYear - 1).toString();\n\n      var lastYear = _.find(monthSet, {\n        'Date': lastYearDate\n      });\n\n      if (lastYear && lastYear['Office Volume'] > 0) {\n        setPeriod('YOY');\n        setComparableMonth(lastYear);\n      } else if (_accountData[_accountData.length - 2]) {\n        setPeriod('MOM');\n        setComparableMonth(_accountData[_accountData.length - 2]);\n      } else {\n        setPeriod(null);\n      }\n    }\n  }, []);\n  var ce_adverts = [['https://supremebest.com/wp-content/uploads/2020/03/icon_appraisals.jpg', 'Understanding Appraisals', \"We've partnered with D.S. Murphy & Associates to bring you 5 distinct courses on Appraisals.\"], ['https://supremebest.com/wp-content/uploads/2020/03/icon_condo.jpg', 'Introduction to Condominiums', \"Our Condo class was designed to help you better understand all of the intricacies of this transaction.\"], ['https://supremebest.com/wp-content/uploads/2020/03/icon_credit.jpg', 'Fundamentals of Credit', \"Our credit class removes the mystery surrounding credit scores, leaving you better equipped to help your buyer qualify for the home of their dreams.\"], ['https://supremebest.com/wp-content/uploads/2020/03/icon_mlar.jpg', 'Market Like a Rockstar', \"Developed by 4x Grammy-Award winner Tai Anderson of Third Day, our 2 newest C.E. classes will teach you how to Market Like A Rockstar and take advantage of Social Media to grow your audience.\"]];\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      style: {\n        backgroundColor: mainBackgroundColor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Page, {\n      className: \"report-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ReportCardHeader, {\n      data: thisMonth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      marginLeft: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Container, {\n      maxWidth: false,\n      className: classes.container,\n      id: 'content-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(NullBlock, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(BoxDivider, {\n      paddingTop: 3,\n      paddingBottom: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      id: 'Report-Card-Content',\n      alignItems: 'flex-start',\n      justify: 'space-evenly',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 6,\n      id: 'Data-Column',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(MShareVolume, {\n      thisMonth: thisMonth,\n      comparableMonth: comparableMonth,\n      period: period,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(OfficeVolume, {\n      thisMonth: thisMonth,\n      comparableMonth: comparableMonth,\n      period: period,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(GoalDonuts, {\n      mshare: thisMonth['YTD Market Share Volume'],\n      goals: [goals['Goal'], goals['Stretch Goal']],\n      incentives: [goals['Increase'], goals['Stretch Increase']],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      marginTop: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(RetroData, {\n      data: accountData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(GraphCard, {\n      imageSrc: imageSrc,\n      height: 550,\n      header: 'Market Share & Office Volume by Month',\n      account: thisMonth['Account'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      marginTop: 3,\n      marginBottom: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ContinuingEducation, {\n      ce2020: ce2020,\n      ce2021: ce2021,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }))),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      id: 'Marketing-Column',\n      alignItems: 'flex-start',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(CenteredImage, {\n      src: './images/Credit Essentials.jpg',\n      height: 400,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      paddingTop: '2%',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ExperienceGrid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      paddingTop: '2%',\n      align: 'center',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(CenteredImage, {\n      src: 'https://scontent-iad3-1.xx.fbcdn.net/v/t1.0-9/153168374_3681749721920486_5624809215965204231_o.jpg?_nc_cat=105&ccb=3&_nc_sid=340051&_nc_ohc=uuz-wa4KUzkAX_pZ1SV&_nc_ht=scontent-iad3-1.xx&oh=f0aea9bad0c5b72e2387812b068f8179&oe=605DEB57',\n      height: '420',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      alignItems: 'center',\n      justify: 'stretch',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Card, {\n      elevation: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, ce_adverts.slice(0, 2).map(function (item) {\n      return (\n        /*#__PURE__*/\n        React.createElement(Grid, {\n          item: true,\n          xs: 'auto',\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 23\n          }\n        },\n        /*#__PURE__*/\n        React.createElement(Box, {\n          height: 'auto',\n          align: 'center',\n          marginTop: '8%',\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }\n        },\n        /*#__PURE__*/\n        React.createElement(\"h2\", {\n          className: classes.ceTitle,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 27\n          }\n        }, item[1])),\n        /*#__PURE__*/\n        React.createElement(Box, {\n          height: '300px',\n          align: 'center',\n          marginBottom: '-25%',\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 27\n          }\n        },\n        /*#__PURE__*/\n        React.createElement(\"img\", {\n          src: item[0],\n          style: {\n            borderRadius: '50%'\n          },\n          height: '50%',\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 29\n          }\n        })))\n      );\n    })))))),\n    /*#__PURE__*/\n    React.createElement(NullBlock, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    })))))\n  );\n}","map":{"version":3,"sources":["/Users/jakobbellamy/Dev/refactor/Report-Cards/src/Report Card/index.js"],"names":["React","useEffect","useState","_","mainBackgroundColor","useStyles","Page","BoxDivider","NullBlock","ReportCardHeader","GraphCard","searchData","MShareVolume","OfficeVolume","UpcomingBest","ifExists","firstStr","lastStr","Container","Grid","Box","CardHeader","ContinuingEducation","GoalDonuts","CSAT","CenteredImage","Card","CloseComparison","ExperienceGrid","PnPB","DataTable","RetroData","Typography","data","require","ppbData","goalData","ce_2020","ce_2021","classes","ReportCard","props","accountData","setAccountData","thisMonth","setThisMonth","comparableMonth","setComparableMonth","ppb","setPpb","period","setPeriod","imageSrc","setImageSrc","goals","setGoals","ce2020","setCE2020","ce2021","setCE2021","params","match","split","_accountData","_goalsData","_thisMonth","length","_imageSrc","_ce2020","_ce2021","thisMonthText","thisMonthMonth","thisMonthYear","Number","monthSet","filter","x","monthTxt","lastYearDate","toString","lastYear","find","ce_adverts","backgroundColor","container","slice","map","item","ceTitle","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { mainBackgroundColor, useStyles } from './styles';\nimport Page from '../src/components/Page';\nimport BoxDivider from './src/Components/_Modules/BoxDivider';\nimport NullBlock from './src/Components/_Modules/NullBlock';\nimport ReportCardHeader from './src/Components/Header/ReportCardHeader';\nimport GraphCard from './src/Components/_Modules/GraphCard';\nimport { searchData } from './functions/jsonParsers';\nimport MShareVolume from './src/Components/Data Components/DataBox/DataPoints/MShareVolume';\nimport OfficeVolume from './src/Components/Data Components/DataBox/DataPoints/OfficeVolume';\nimport UpcomingBest from './src/Components/Inustry Standards/upcomingBest';\nimport { ifExists } from './functions/conditionals';\nimport { firstStr, lastStr } from './functions/stringParsers';\n\nimport {\n  Container,\n  Grid,\n  Box,\n  CardHeader\n} from '@material-ui/core';\nimport ContinuingEducation from './src/Components/Continuing Education/ContinuingEducation';\nimport GoalDonuts from './src/Components/Data Components/Tabler Components/GoalDonuts';\nimport CSAT from './src/Components/Inustry Standards/csat';\nimport CenteredImage from './src/Components/_Modules/centeredImage';\nimport Card from '@material-ui/core/Card';\nimport CloseComparison from './src/Components/Inustry Standards/CloseComparison';\nimport ExperienceGrid from './src/Components/Experience';\nimport PnPB from './src/Components/PPB';\nimport DataTable from './src/Components/Data Components/Data Table';\nimport RetroData from './src/Components/Data Components/DataBox/DataPoints/RetroData';\nimport Typography from '@material-ui/core/Typography';\n\nconst data = require('./data/data.json');\nconst ppbData = require('./data/ppb.json');\nconst goalData = require('./data/Goals.json');\nconst ce_2020 = require('./data/2020 CE.json');\nconst ce_2021 = require('./data/2021 CE.json');\n\nconst classes = useStyles();\n\nexport default function ReportCard(props) {\n  const [accountData, setAccountData] = useState([]);\n  const [thisMonth, setThisMonth] = useState({});\n  const [comparableMonth, setComparableMonth] = useState({});\n  const [ppb, setPpb] = useState([{ 'Title': '', 'Date': '' }]);\n  const [period, setPeriod] = useState('YOY');\n  const [imageSrc, setImageSrc] = useState('');\n  const [goals, setGoals] = useState([]);\n  const [ce2020, setCE2020] = useState([]);\n  const [ce2021, setCE2021] = useState([]);\n\n  useEffect(() => {\n    let params = props.match.params[0] ? props.match.params[0].split('/')[1] : '';\n    let _accountData = searchData(data, params);\n    let _goalsData = searchData(goalData, params, 'Name')[0];\n    let _thisMonth = _accountData.length > 0 ? _accountData[_accountData.length - 1] : null;\n    let _imageSrc = `./Plots/share_${searchData(data, params)[0]['Account']}.svg`;\n    let _ce2020 = searchData(ce_2020, params);\n    let _ce2021 = searchData(ce_2021, params);\n\n    setAccountData(_accountData);\n    setGoals(_goalsData);\n    setThisMonth(_thisMonth);\n    setPpb(ppbData);\n    setImageSrc(_imageSrc);\n    setCE2020(_ce2020);\n    setCE2021(_ce2021);\n\n    // Get Last Year Month or Last Month\n    let thisMonthText = ifExists(_thisMonth['Date'], null);\n    if (thisMonthText) {\n      let thisMonthMonth = firstStr(thisMonthText);\n      let thisMonthYear = Number(lastStr(thisMonthText));\n\n      let monthSet = _.filter(_accountData, x => {\n        let monthTxt = firstStr(x['Date']);\n        return monthTxt === thisMonthMonth;\n      });\n\n      let lastYearDate = thisMonthMonth + ' ' + (thisMonthYear - 1).toString();\n      let lastYear = _.find(monthSet, { 'Date': lastYearDate });\n\n      if (lastYear && lastYear['Office Volume'] > 0) {\n        setPeriod('YOY');\n        setComparableMonth(lastYear);\n      } else if (_accountData[_accountData.length - 2]) {\n        setPeriod('MOM');\n        setComparableMonth(_accountData[_accountData.length - 2]);\n      } else {\n        setPeriod(null);\n      }\n    }\n\n  }, []);\n\n  const ce_adverts = [\n      ['https://supremebest.com/wp-content/uploads/2020/03/icon_appraisals.jpg', 'Understanding Appraisals', \"We've partnered with D.S. Murphy & Associates to bring you 5 distinct courses on Appraisals.\"],\n      ['https://supremebest.com/wp-content/uploads/2020/03/icon_condo.jpg', 'Introduction to Condominiums', \"Our Condo class was designed to help you better understand all of the intricacies of this transaction.\"],\n      ['https://supremebest.com/wp-content/uploads/2020/03/icon_credit.jpg', 'Fundamentals of Credit', \"Our credit class removes the mystery surrounding credit scores, leaving you better equipped to help your buyer qualify for the home of their dreams.\"],\n      ['https://supremebest.com/wp-content/uploads/2020/03/icon_mlar.jpg', 'Market Like a Rockstar', \"Developed by 4x Grammy-Award winner Tai Anderson of Third Day, our 2 newest C.E. classes will teach you how to Market Like A Rockstar and take advantage of Social Media to grow your audience.\"]\n  ]\n\n  return (\n    <div style={{ backgroundColor: mainBackgroundColor }}>\n      <Page className=\"report-card\">\n      <ReportCardHeader data={thisMonth}/>\n        <Box marginLeft={3}>\n        <Container maxWidth={false} className={classes.container} id={'content-container'} >\n\n          <NullBlock/>\n\n          <BoxDivider\n            paddingTop={3}\n            paddingBottom={3}\n          />\n\n          <Grid container spacing={3} id={'Report-Card-Content'} alignItems={'flex-start'} justify={'space-evenly'}>\n            <Grid item xs={6} id={'Data-Column'}>\n              <Grid container spacing={2}>\n                <MShareVolume\n                  thisMonth={thisMonth}\n                  comparableMonth={comparableMonth}\n                  period={period}\n                />\n                <OfficeVolume\n                  thisMonth={thisMonth}\n                  comparableMonth={comparableMonth}\n                  period={period}\n                />\n              </Grid>\n\n\n              <GoalDonuts\n                mshare={thisMonth['YTD Market Share Volume']}\n                goals={[goals['Goal'], goals['Stretch Goal']]}\n                incentives={[goals['Increase'], goals['Stretch Increase']]}\n              />\n              <Box marginTop={2}>\n                <RetroData data={accountData}/>\n              </Box>\n\n              <GraphCard\n                imageSrc={imageSrc}\n                height={550}\n                header={'Market Share & Office Volume by Month'}\n                account={thisMonth['Account']}\n              />\n\n\n              <Box marginTop={3} marginBottom={3}>\n                <ContinuingEducation ce2020={ce2020} ce2021={ce2021}/>\n              </Box>\n\n            </Grid>\n\n            <Grid item id={'Marketing-Column'} alignItems={'flex-start'}>\n              <CenteredImage src={'./images/Credit Essentials.jpg'} height={400}/>\n              <Box paddingTop={'2%'}>\n                <ExperienceGrid />\n              </Box>\n              <Box paddingTop={'2%'} align={'center'}>\n                <CenteredImage src={'https://scontent-iad3-1.xx.fbcdn.net/v/t1.0-9/153168374_3681749721920486_5624809215965204231_o.jpg?_nc_cat=105&ccb=3&_nc_sid=340051&_nc_ohc=uuz-wa4KUzkAX_pZ1SV&_nc_ht=scontent-iad3-1.xx&oh=f0aea9bad0c5b72e2387812b068f8179&oe=605DEB57'}\n                               height={'420'}/>\n              </Box>\n              {/*<PnPB />*/}\n              <Box>\n                <Grid container spacing={1} alignItems={'center'} justify={'stretch'}>\n                  <Card elevation={0}>\n                  {ce_adverts.slice(0, 2).map(item => {\n                    return (\n                      <Grid item xs={'auto'}>\n                        <Box height={'auto'} align={'center'} marginTop={'8%'}>\n                          <h2 className={classes.ceTitle}>{item[1]}</h2>\n                        </Box>\n                          <Box height={'300px'} align={'center'}  marginBottom={'-25%'}>\n                            <img src={item[0]} style={{borderRadius: '50%'}} height={'50%'} />\n                          </Box>\n\n                      </Grid>\n                    )\n                  })}\n                  </Card>\n\n\n                </Grid>\n              </Box>\n            </Grid>\n          </Grid>\n\n\n          <NullBlock/>\n        </Container>\n        </Box>\n      </Page>\n    </div>\n\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/* eslint-disable no-param-reassign */\nimport produce from 'immer';\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, LOGOUT, SILENT_LOGIN, UPDATE_PROFILE } from 'src/src/utilities/actions/accountActions';\nvar initialState = {\n  user: null,\n  error: null\n};\n\nvar accountReducer = function accountReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      {\n        return produce(state, function (draft) {\n          // Ensure we clear current session\n          draft.user = null;\n        });\n      }\n\n    case LOGIN_SUCCESS:\n      {\n        var user = action.payload.user;\n        return produce(state, function (draft) {\n          draft.user = user;\n        });\n      }\n\n    case LOGIN_FAILURE:\n      {\n        var error = action.payload.error;\n        return produce(state, function (draft) {\n          draft.error = error;\n        });\n      }\n\n    case LOGOUT:\n      {\n        return produce(state, function (draft) {\n          draft.user = null;\n        });\n      }\n\n    case SILENT_LOGIN:\n      {\n        var _user = action.payload.user;\n        return produce(state, function (draft) {\n          draft.user = _user;\n        });\n      }\n\n    case UPDATE_PROFILE:\n      {\n        var _user2 = action.payload.user;\n        return produce(state, function (draft) {\n          draft.user = _user2;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default accountReducer;","map":{"version":3,"sources":["/Users/jakobbellamy/Dev/refactor/Report-Cards/src/src/utilities/reducers/accountReducer.js"],"names":["produce","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","SILENT_LOGIN","UPDATE_PROFILE","initialState","user","error","accountReducer","state","action","type","draft","payload"],"mappings":"AAAA;AACA,OAAOA,OAAP,MAAoB,OAApB;AACA,SACEC,aADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,MAJF,EAKEC,YALF,EAMEC,cANF,QAOO,0CAPP;AASA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,IADa;AAEnBC,EAAAA,KAAK,EAAE;AAFY,CAArB;;AAKA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBJ,YAAyB;AAAA,MAAXK,MAAW;;AACvD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKZ,aAAL;AAAoB;AAClB,eAAOD,OAAO,CAACW,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/B;AACAA,UAAAA,KAAK,CAACN,IAAN,GAAa,IAAb;AACD,SAHa,CAAd;AAID;;AAED,SAAKN,aAAL;AAAoB;AAAA,YACVM,IADU,GACDI,MAAM,CAACG,OADN,CACVP,IADU;AAGlB,eAAOR,OAAO,CAACW,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,UAAAA,KAAK,CAACN,IAAN,GAAaA,IAAb;AACD,SAFa,CAAd;AAGD;;AAED,SAAKL,aAAL;AAAoB;AAAA,YACVM,KADU,GACAG,MAAM,CAACG,OADP,CACVN,KADU;AAElB,eAAOT,OAAO,CAACW,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,UAAAA,KAAK,CAACL,KAAN,GAAcA,KAAd;AACD,SAFa,CAAd;AAGD;;AAED,SAAKL,MAAL;AAAa;AACX,eAAOJ,OAAO,CAACW,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,UAAAA,KAAK,CAACN,IAAN,GAAa,IAAb;AACD,SAFa,CAAd;AAGD;;AAED,SAAKH,YAAL;AAAmB;AAAA,YACTG,KADS,GACAI,MAAM,CAACG,OADP,CACTP,IADS;AAGjB,eAAOR,OAAO,CAACW,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,UAAAA,KAAK,CAACN,IAAN,GAAaA,KAAb;AACD,SAFa,CAAd;AAGD;;AAED,SAAKF,cAAL;AAAqB;AAAA,YACXE,MADW,GACFI,MAAM,CAACG,OADL,CACXP,IADW;AAGnB,eAAOR,OAAO,CAACW,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,UAAAA,KAAK,CAACN,IAAN,GAAaA,MAAb;AACD,SAFa,CAAd;AAGD;;AAED;AAAS;AACP,eAAOG,KAAP;AACD;AA/CH;AAiDD,CAlDD;;AAoDA,eAAeD,cAAf","sourcesContent":["/* eslint-disable no-param-reassign */\nimport produce from 'immer';\nimport {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  LOGOUT,\n  SILENT_LOGIN,\n  UPDATE_PROFILE\n} from 'src/src/utilities/actions/accountActions';\n\nconst initialState = {\n  user: null,\n  error: null\n};\n\nconst accountReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST: {\n      return produce(state, (draft) => {\n        // Ensure we clear current session\n        draft.user = null;\n      });\n    }\n\n    case LOGIN_SUCCESS: {\n      const { user } = action.payload;\n\n      return produce(state, (draft) => {\n        draft.user = user;\n      });\n    }\n\n    case LOGIN_FAILURE: {\n      const { error } = action.payload\n      return produce(state, (draft) => {\n        draft.error = error\n      });\n    }\n\n    case LOGOUT: {\n      return produce(state, (draft) => {\n        draft.user = null;\n      });\n    }\n\n    case SILENT_LOGIN: {\n      const { user } = action.payload;\n\n      return produce(state, (draft) => {\n        draft.user = user;\n      });\n    }\n\n    case UPDATE_PROFILE: {\n      const { user } = action.payload;\n\n      return produce(state, (draft) => {\n        draft.user = user;\n      });\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default accountReducer;\n"]},"metadata":{},"sourceType":"module"}